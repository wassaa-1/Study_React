<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body>

    <!-- 작성한 모든 React 컴포넌트들이 렌더링되는 곳 -->
    <div id="root"></div>

    <script type="text/babel">
        // 1. props
        // const Component = props => {
        //     // It's a function component
        //     return (
        //         <div>
        //             <h1>It's a {props.value}</h1>
        //         </div>
        //     )
        // }
        // ReactDOM.render(<Component value='Function component'/>, document.getElementById('root'));

        // 별도로 지정한 props가 없을 때 defaultProps를 지정하려면?
        // Component.defaultProps = {
        //     value: 'default value',
        // }

        // ReactDOM.render(<Component />, document.getElementById('root'));

        // 2. before state
        // BeforeState라는 이름의 함수형 컴포넌트를 만들고 버튼(<button>)이 클릭되면 <p>You clicked 'oo' times</p>가 바뀌도록
        /*
            <div>
                <p>You clicked {oo} times</p>
                <button>Click me</button>
            </div>
        */
        // let count = 0;
        // const BeforeState = props => {
        //     // JS 코드 작성 가능한 부분
        //     const clickHandler = () => { // click 이벤트를 처리할 핸들러(담당자)
        //         console.log('button clicked');
        //         count++;
        //         console.log(count);
        //     }

        // return (
        //     <div>
        //        <p>You clicked {count} times</p>
        //        <button onClick={clickHandler}>Click me</button>
        //     </div>
        // )
        // }

        // ReactDOM.render(<BeforeState />, document.getElementById('root'));

        // 3. state
        // console.log(React);
        const { useState } = React; // 객체 디스트럭쳐링
        const Example = props => {
            console.log('rendered');
            // 우리의 관심사는 count 값(Example 컴포넌트가 가지는 하나의 state)

            // React hook, useState(초기값, initialState);
            const [count, setCount] = useState(0); // 0: state의 초기값을 0으로 지정(count의 초기값은 0으로 시작)
            // count: Example 컴포넌트에서 관리하는 상태값
            // setCount: 상태값을 변경시켜주는 setter()

            const clickHandler = () => {
                // count += 1; // count is read-only
                setCount(count + 1); // setCount()를 통해 count(state값)를 변경,
                // state(count)가 변경되면, React는 변경을 감지하고 해당 컴포넌트를 새로 렌더링시킴
            }

            return (
                <div>
                    <p>You clicked {count} times</p>
                    <button onClick={clickHandler}>Click me</button>
                </div>
            )
        }
        ReactDOM.render(<Example />, document.getElementById('root'));

    </script>
</body>

</html>